<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á - QueSanrueGrooming</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- Mobile Header -->
  <div class="mobile-header">
    <button class="hamburger-btn" onclick="app.toggleSidebar()" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="mobile-logo">üêæ QueSanrue</div>
  </div>

  <div class="app-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="brand-icon">üêæ</div>
        <div class="brand-text">
          <h1>QueSanrue</h1>
          <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥</p>
        </div>
      </div>

      <ul class="menu">
        <li class="menu-item active" onclick="app.showPage('dashboard')" id="nav-dashboard">
          <span class="menu-icon">üìä</span>
          <span>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</span>
        </li>
        <li class="menu-item" onclick="app.showPage('queue')" id="nav-queue">
          <span class="menu-icon">üìã</span>
          <span>‡∏Ñ‡∏¥‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
        </li>
        <li class="menu-item" onclick="app.showPage('customers')" id="nav-customers">
          <span class="menu-icon">üë•</span>
          <span>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</span>
        </li>
        <li class="menu-item" onclick="app.showPage('pets')" id="nav-pets">
          <span class="menu-icon">üêï</span>
          <span>‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</span>
        </li>
        <li class="menu-item" onclick="app.showPage('groomers')" id="nav-groomers">
          <span class="menu-icon">‚úÇÔ∏è</span>
          <span>‡∏ä‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏î‡∏Ç‡∏ô</span>
        </li>
        <li class="menu-item" onclick="app.showPage('services')" id="nav-services">
          <span class="menu-icon">üìù</span>
          <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span>
        </li>
        <li class="menu-item" onclick="app.showPage('users')" id="nav-users">
          <span class="menu-icon">üë§</span>
          <span>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
        </li>
      </ul>

      <div class="user-profile">
        <div class="user-avatar">AD</div>
        <div class="user-info">
          <h4 id="current-user">Admin</h4>
          <p>‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</p>
        </div>
        <button class="btn-logout" onclick="app.logout()" title="‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </div>
      <div class="version-info" onclick="app.handleVersionClick()">
        v5.0.0 (125)
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Dashboard Page -->
      <div id="page-dashboard" class="page active">
        <div class="page-header">
          <div class="page-title">
            <h2>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h2>
            <div class="breadcrumb">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å / ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</div>
          </div>
          <button class="btn btn-outline-secondary btn-sm" onclick="app.syncData()" title="‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î">
            üîÑ ‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          </button>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üìã</div>
            <div class="stat-value" id="stat-queue-today">0</div>
            <div class="stat-label">‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è≥</div>
            <div class="stat-value" id="stat-queue-waiting">0</div>
            <div class="stat-label">‡∏£‡∏≠‡∏Ñ‡∏¥‡∏ß</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value" id="stat-queue-completed">0</div>
            <div class="stat-label">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value" id="stat-total-customers">0</div>
            <div class="stat-label">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
          </div>
        </div>

        <!-- Calendar View -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">üìÖ ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Ñ‡∏¥‡∏ß</h3>
            <div class="calendar-nav">
              <button class="btn btn-sm btn-secondary" onclick="app.previousMonth()">‚Üê</button>
              <span id="calendar-month-year" class="calendar-month-label"></span>
              <button class="btn btn-sm btn-secondary" onclick="app.nextMonth()">‚Üí</button>
              <button class="btn btn-sm btn-info" onclick="app.goToToday()">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
            </div>
          </div>
          <div class="card-body">
            <div id="calendar-container" class="calendar"></div>
          </div>
        </div>

        <!-- Recent Queue -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">‡∏Ñ‡∏¥‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>
          </div>
          <div class="card-body">
            <div id="dashboard-queue-list" class="queue-grid"></div>
          </div>
        </div>
      </div>

      <!-- Queue Page -->
      <div id="page-queue" class="page hidden">
        <div class="page-header">
          <div class="page-title">
            <h2>‡∏Ñ‡∏¥‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
            <button class="btn btn-primary" onclick="app.showAddQueueModal()">
              <span>‚ûï</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà
            </button>
          </div>
          <button class="btn btn-outline-secondary btn-sm" onclick="app.syncData()" title="‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î">
            üîÑ ‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          </button>
        </div>

        <div class="search-and-filter" style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
          <div class="search-bar" style="flex: 1; margin-bottom: 0;">
            <span class="search-icon">üîç</span>
            <input type="text" class="search-input" id="queue-search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏¥‡∏ß...">
          </div>
          <input type="date" class="form-input" id="queue-date-filter" style="width: auto;">
        </div>

        <div id="queue-list" class="queue-grid"></div>
      </div>

      <!-- Customers Page -->
      <div id="page-customers" class="page hidden">
        <div class="page-header">
          <div class="page-title">
            <h2>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>
            <button class="btn btn-primary" onclick="app.showAddCustomerModal()">
              <span>‚ûï</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
            </button>
          </div>
          <button class="btn btn-outline-secondary btn-sm" onclick="app.syncData()" title="‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î">
            üîÑ ‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          </button>
        </div>

        <div class="search-bar">
          <span class="search-icon">üîç</span>
          <input type="text" class="search-input" id="customer-search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤...">
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-container">
              <table class="table" id="customers-table">
                <thead>
                  <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                    <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</th>
                    <th>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</th>
                    <th>‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</th>
                    <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                  </tr>
                </thead>
                <tbody id="customers-tbody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Pets Page -->
      <div id="page-pets" class="page hidden">
        <div class="page-header">
          <div class="page-title">
            <h2>‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</h2>
            <button class="btn btn-primary" onclick="app.showAddPetModal()">
              <span>‚ûï</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà
            </button>
          </div>
          <button class="btn btn-outline-secondary btn-sm" onclick="app.syncData()" title="‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î">
            üîÑ ‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          </button>
        </div>

        <div class="search-bar">
          <span class="search-icon">üîç</span>
          <input type="text" class="search-input" id="pet-search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á...">
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-container">
              <table class="table" id="pets-table">
                <thead>
                  <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</th>
                    <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                    <th>‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå</th>
                    <th>‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á</th>
                    <th>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å</th>
                    <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                  </tr>
                </thead>
                <tbody id="pets-tbody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Groomers Page -->
      <div id="page-groomers" class="page hidden">
        <div class="page-header">
          <div class="page-title">
            <h2>‡∏ä‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏î‡∏Ç‡∏ô</h2>
            <button class="btn btn-primary" onclick="app.showAddGroomerModal()">
              <span>‚ûï</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
            </button>
          </div>
          <button class="btn btn-outline-secondary btn-sm" onclick="app.syncData()" title="‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î">
            üîÑ ‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          </button>
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-container">
              <table class="table" id="groomers-table">
                <thead>
                  <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô)</th>
                    <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</th>
                    <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                    <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏ô‡∏±‡∏î</th>
                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                    <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                  </tr>
                </thead>
                <tbody id="groomers-tbody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Users Page -->
      <div id="page-users" class="page hidden">
        <div class="page-header">
          <div class="page-title">
            <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
            <button class="btn btn-primary" onclick="app.showAddUserModal()">
              <span>‚ûï</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
            </button>
          </div>
          <button class="btn btn-outline-secondary btn-sm" onclick="app.syncData()" title="‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î">
            üîÑ ‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          </button>
        </div>

        <div class="search-bar">
          <span class="search-icon">üîç</span>
          <input type="text" class="search-input" id="user-search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£..."
            oninput="app.renderUsers()">
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</th>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á</th>
                    <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                    <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</th>
                    <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                  </tr>
                </thead>
                <tbody id="users-tbody">
                  <!-- User rows will be populated here -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Services Page -->
      <div id="page-services" class="page hidden">
        <div class="page-header">
          <div class="page-title">
            <h2>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h2>
          </div>
        </div>

        <div class="search-bar">
          <span class="search-icon">üîç</span>
          <input type="text" class="search-input" id="service-search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£...">
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-container">
              <table class="table" id="services-table">
                <tr>
                  <th onclick="app.sortServices('date')" style="cursor:pointer">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà <span id="sort-icon-date"
                      class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('appointmentTime')" style="cursor:pointer">‡πÄ‡∏ß‡∏•‡∏≤ <span
                      id="sort-icon-appointmentTime" class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('status')" style="cursor:pointer">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ <span id="sort-icon-status"
                      class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('customerName')" style="cursor:pointer">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ <span
                      id="sort-icon-customerName" class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('petName')" style="cursor:pointer">‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á <span
                      id="sort-icon-petName" class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('groomerName')" style="cursor:pointer">‡∏ä‡πà‡∏≤‡∏á <span
                      id="sort-icon-groomerName" class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('serviceStr')" style="cursor:pointer">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ <span
                      id="sort-icon-serviceStr" class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('duration')" style="cursor:pointer">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ <span
                      id="sort-icon-duration" class="sort-icon">‚áÖ</span></th>
                  <th onclick="app.sortServices('checkInWeight')" style="cursor:pointer">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å <span
                      id="sort-icon-checkInWeight" class="sort-icon">‚áÖ</span></th>
                  <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                </tr>
                </thead>
                <tbody id="services-tbody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Add Customer Modal -->
  <div id="modal-customer" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="modal-customer-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</h3>
        <button class="modal-close" onclick="app.closeModal('modal-customer')">‚úï</button>
      </div>
      <div class="modal-body">
        <form id="form-customer">
          <input type="hidden" id="customer-id">
          <div class="form-group">
            <label class="form-label required">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
            <input type="text" class="form-input" id="customer-name" required>
            <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</div>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏• / ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label>
            <input type="text" class="form-input" id="customer-social-name"
              placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏û‡∏à ‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å, ‡πÑ‡∏•‡∏ô‡πå ‡πÅ‡∏°‡πà‡∏´‡∏°‡∏µ">
            <small class="text-muted">‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÉ‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏°‡∏µ‡πÄ‡∏î‡∏µ‡∏¢ (Facebook, Line, etc.)</small>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label required">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
              <input type="tel" class="form-input" id="customer-phone" required>
              <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</div>
            </div>
            <div class="form-group">
              <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
              <input type="email" class="form-input" id="customer-email">
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label>
            <textarea class="form-textarea" id="customer-address"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-customer')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" onclick="app.saveCustomer()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Add Pet Modal -->
  <div id="modal-pet" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="modal-pet-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</h3>
        <button class="modal-close" onclick="app.closeModal('modal-pet')">‚úï</button>
      </div>
      <div class="modal-body">
        <form id="form-pet">
          <input type="hidden" id="pet-id">
          <div class="form-group">
            <label class="form-label">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á</label>
            <input type="text" class="form-input" id="pet-modal-customer-search" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£..."
              autocomplete="off">
            <div id="pet-modal-search-results" class="search-results-dropdown"></div>
          </div>

          <div class="form-group">
            <label class="form-label required">‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á</label>
            <div class="quick-add-container">
              <select class="form-select" id="pet-customer" required>
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á --</option>
              </select>
              <button type="button" class="btn btn-sm btn-success" onclick="app.togglePetQuickAddCustomer()">
                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
              </button>
            </div>
            <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á</div>

            <!-- Quick Add Customer Form for Pet Modal -->
            <div id="pet-modal-quick-customer-form" class="quick-add-form hidden">
              <div class="quick-form-header">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏î‡πà‡∏ß‡∏ô</div>
              <div class="form-row">
                <div class="form-group">
                  <input type="text" class="form-input" id="pet-quick-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *">
                </div>
                <div class="form-group">
                  <input type="text" class="form-input" id="pet-quick-social" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <input type="tel" class="form-input" id="pet-quick-phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ *">
                </div>
              </div>
              <div class="form-actions">
                <button type="button" class="btn btn-sm btn-secondary"
                  onclick="app.cancelPetQuickAddCustomer()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button type="button" class="btn btn-sm btn-primary"
                  onclick="app.savePetQuickCustomer()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label required">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</label>
              <input type="text" class="form-input" id="pet-name" required>
              <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</div>
            </div>
            <div class="form-group">
              <label class="form-label required">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
              <select class="form-select" id="pet-type" required>
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                <option value="dog">‡∏™‡∏∏‡∏ô‡∏±‡∏Ç</option>
                <option value="cat">‡πÅ‡∏°‡∏ß</option>
                <option value="other">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
              </select>
              <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå</label>
              <input type="text" class="form-input" id="pet-breed">
            </div>
            <div class="form-group">
              <label class="form-label">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)</label>
              <input type="number" class="form-input" id="pet-weight" step="0.1">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">‡∏™‡∏µ</label>
              <input type="text" class="form-input" id="pet-color">
            </div>
            <div class="form-group">
              <label class="form-label">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label>
              <input type="date" class="form-input" id="pet-birthdate">
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡πÅ‡∏û‡πâ‡∏¢‡∏≤, ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°, ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©)</label>
            <textarea class="form-textarea" id="pet-notes"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-pet')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" onclick="app.savePet()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Add Groomer Modal -->
  <div id="modal-groomer" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="modal-groomer-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà</h3>
        <button class="modal-close" onclick="app.closeModal('modal-groomer')">‚úï</button>
      </div>
      <div class="modal-body">
        <form id="form-groomer">
          <input type="hidden" id="groomer-id">
          <div class="form-row">
            <div class="form-group">
              <label class="form-label required">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
              <input type="text" class="form-input" id="groomer-name" required>
              <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</div>
            </div>
            <div class="form-group">
              <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label>
              <input type="text" class="form-input" id="groomer-nickname">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label required">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
              <input type="tel" class="form-input" id="groomer-phone" required>
              <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</div>
            </div>
            <div class="form-group">
              <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
              <input type="email" class="form-input" id="groomer-email">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç</label>
              <select class="form-select" id="groomer-specialty" multiple size="3">
                <option value="dog">‡∏™‡∏∏‡∏ô‡∏±‡∏Ç</option>
                <option value="cat">‡πÅ‡∏°‡∏ß</option>
                <option value="both">‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
              <select class="form-select" id="groomer-level" required>
                <option value="‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô">‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô</option>
                <option value="‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥">‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô</label>
              <input type="date" class="form-input" id="groomer-hiredate">
            </div>
            <div class="form-group">
              <label class="form-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
              <select class="form-select" id="groomer-active">
                <option value="true">‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà</option>
                <option value="false">‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
            <textarea class="form-textarea" id="groomer-notes"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-groomer')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" onclick="app.saveGroomer()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Add Queue Modal -->
  <div id="modal-queue" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà</h3>
        <button class="modal-close" onclick="app.closeModal('modal-queue')">‚úï</button>
      </div>
      <div class="modal-body">
        <form id="form-queue">
          <div class="form-group">
            <label class="form-label required">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label>

            <!-- Search Mode -->
            <div id="customer-selection-container">
              <input type="text" class="form-input" id="customer-search-input"
                placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠ ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£... (‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°)" autocomplete="off">
              <div id="customer-search-results" class="search-results-dropdown"></div>
            </div>

            <!-- Selected Mode (Card) -->
            <div id="selected-customer-card" style="display: none;" class="customer-card-selected">
              <div class="customer-card-icon">üë§</div>
              <div class="customer-card-info">
                <div class="customer-card-name" id="selected-customer-name">-</div>
                <div class="customer-card-phone" id="selected-customer-phone">-</div>
              </div>
              <button type="button" class="btn-change-customer" onclick="app.clearCustomerSelection()"
                title="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤">
                ‚úï
              </button>
            </div>

            <!-- Hidden Select for logic compatibility -->
            <select id="queue-customer" style="display: none;" required onchange="app.loadPetsByCustomer()">
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ --</option>
            </select>
            <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div>

            <!-- Quick Add Customer Form -->
            <div id="quick-customer-form" class="quick-add-form hidden">
              <div class="quick-form-header">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏î‡πà‡∏ß‡∏ô</div>
              <div class="form-row">
                <div class="form-group">
                  <input type="text" class="form-input" id="quick-customer-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *">
                </div>
                <div class="form-group">
                  <input type="text" class="form-input" id="quick-customer-social-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <input type="tel" class="form-input" id="quick-customer-phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ *">
                </div>
              </div>
              <div class="form-actions">
                <button type="button" class="btn btn-sm btn-secondary"
                  onclick="app.cancelQuickAddCustomer()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button type="button" class="btn btn-sm btn-primary" onclick="app.saveQuickCustomer()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label required">‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</label>
            <div class="quick-add-container">
              <select class="form-select" id="queue-pet" required>
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á --</option>
              </select>
              <button type="button" class="btn btn-sm btn-success" onclick="app.toggleQuickAddPet()" id="quick-pet-btn">
                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà
              </button>
            </div>
            <div class="form-error">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</div>

            <!-- Quick Add Pet Form -->
            <div id="quick-pet-form" class="quick-add-form hidden">
              <div class="quick-form-header">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏î‡πà‡∏ß‡∏ô</div>
              <div class="form-row">
                <div class="form-group">
                  <input type="text" class="form-input" id="quick-pet-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á *">
                </div>
                <div class="form-group">
                  <select class="form-select" id="quick-pet-type">
                    <option value="">-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                    <option value="dog">‡∏™‡∏∏‡∏ô‡∏±‡∏Ç</option>
                    <option value="cat">‡πÅ‡∏°‡∏ß</option>
                    <option value="other">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                  </select>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <input type="text" class="form-input" id="quick-pet-breed" placeholder="‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå">
                </div>
              </div>
              <div class="form-actions">
                <button type="button" class="btn btn-sm btn-secondary" onclick="app.cancelQuickAddPet()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button type="button" class="btn btn-sm btn-primary" onclick="app.saveQuickPet()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
              </div>
            </div>
          </div>

          <!-- NEW: Date & Time Selection -->
          <div class="form-group">
            <label class="form-label required">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢</label>
            <input type="date" class="form-input" id="queue-date" required />
            <small class="text-muted">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</small>
          </div>

          <div class="form-group">
            <label class="form-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢</label>
            <input type="hidden" id="queue-time-slot" />
            <div id="time-slot-buttons" class="time-slot-grid">
              <div class="time-slot-placeholder">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡πà‡∏≤‡∏á</div>
            </div>
            <small class="text-muted" id="time-slot-info">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡πà‡∏≤‡∏á</small>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ä‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö</label>
            <select class="form-select" id="queue-groomer">
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≤‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) --</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label required">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡∏≠‡∏¢‡πà‡∏≤‡∏á)</label>
            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
              <label><input type="checkbox" name="service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥"> ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥ (1 ‡∏ä‡∏°.)</label>
              <label><input type="checkbox" name="service-type" value="‡∏≠‡∏≤‡∏ö Set C"> ‡∏≠‡∏≤‡∏ö Set C (1 ‡∏ä‡∏°.)</label>
              <label><input type="checkbox" name="service-type" value="‡∏≠‡∏≤‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏ß‡∏î"> ‡∏≠‡∏≤‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏ß‡∏î (1 ‡∏ä‡∏°.)</label>
              <label><input type="checkbox" name="service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏£‡πÑ‡∏Å‡∏£"> ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô
                ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏£‡πÑ‡∏Å‡∏£ (2 ‡∏ä‡∏°.)</label>
              <label><input type="checkbox" name="service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô ‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏ô"> ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô
                ‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏ô (2 ‡∏ä‡∏°.)</label>
              <label><input type="checkbox" name="service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏™‡∏õ‡∏≤"> ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏™‡∏õ‡∏≤ (1.5
                ‡∏ä‡∏°.)</label>
              <label><input type="checkbox" name="service-type" value="‡∏´‡∏°‡∏≤‡πÉ‡∏´‡∏ç‡πà"> ‡∏´‡∏°‡∏≤‡πÉ‡∏´‡∏ç‡πà (1 ‡∏ä‡∏°.)</label>
              <label><input type="checkbox" name="service-type" value="‡∏ù‡∏≤‡∏Å‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á"> ‡∏ù‡∏≤‡∏Å‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</label>
              <label><input type="checkbox" name="service-type" value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ"> ‡∏≠‡∏∑‡πà‡∏ô‡πÜ (30 ‡∏ô‡∏≤‡∏ó‡∏µ)</label>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏° (Add-ons)</label>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; margin-top: 0.5rem;">
              <label><input type="checkbox" name="service-addon" value="‡∏ï‡∏±‡∏î‡πÄ‡∏•‡πá‡∏ö"> ‡∏ï‡∏±‡∏î‡πÄ‡∏•‡πá‡∏ö</label>
              <label><input type="checkbox" name="service-addon" value="‡πÑ‡∏ñ‡∏Ç‡∏ô‡∏≠‡∏∏‡πâ‡∏á‡πÄ‡∏ó‡πâ‡∏≤/‡∏ó‡πâ‡∏≠‡∏á/‡∏Å‡πâ‡∏ô"> ‡πÑ‡∏ñ‡∏Ç‡∏ô
                (‡πÄ‡∏ó‡πâ‡∏≤/‡∏ó‡πâ‡∏≠‡∏á/‡∏Å‡πâ‡∏ô)</label>
              <label><input type="checkbox" name="service-addon" value="‡πÄ‡∏ä‡πá‡∏î‡∏´‡∏π"> ‡πÄ‡∏ä‡πá‡∏î‡∏´‡∏π</label>
              <label><input type="checkbox" name="service-addon" value="‡∏™‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Å‡∏∞‡∏ï‡∏±‡∏á"> ‡∏™‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Å‡∏∞‡∏ï‡∏±‡∏á</label>
              <label><input type="checkbox" name="service-addon" value="‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î"> ‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î</label>
              <label><input type="checkbox" name="service-addon" value="‡πÅ‡∏õ‡∏£‡∏á‡∏ü‡∏±‡∏ô"> ‡πÅ‡∏õ‡∏£‡∏á‡∏ü‡∏±‡∏ô</label>
            </div>
          </div>
          <div class="form-group">
            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
              <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="queue-priority">
                <span class="form-label" style="margin: 0;">‡∏Ñ‡∏¥‡∏ß‡∏î‡πà‡∏ß‡∏ô (Priority)</span>
              </label>
              <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="queue-transport">
                <span class="form-label" style="margin: 0;">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö-‡∏™‡πà‡∏á üöó</span>
              </label>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏à‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÉ‡∏î</label>
            <select class="form-select" id="queue-source">
              <option value="">-- ‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á --</option>
              <option value="Facebook">Facebook Page</option>
              <option value="Line">Line Official</option>
              <option value="TIKTOK">TikTok</option>
              <option value="Instagram">Instagram</option>
              <option value="Google">Google Search/Maps</option>
              <option value="Friend">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</option>
              <option value="Walk-in">Walk-in (‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô)</option>
              <option value="Other">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
            </select>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</label>
              <input type="text" class="form-input" id="queue-health" placeholder="‡πÑ‡∏°‡πà‡∏°‡∏µ">
            </div>
            <div class="form-group">
              <label class="form-label">‡πÄ‡∏´‡πá‡∏ö-‡∏´‡∏°‡∏±‡∏î</label>
              <input type="text" class="form-input" id="queue-ticks" placeholder="‡πÑ‡∏°‡πà‡∏°‡∏µ">
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏Ñ‡∏ô‡∏•‡∏á‡∏Ñ‡∏¥‡∏ß (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
            <select class="form-select" id="queue-booker">
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ô‡∏•‡∏á‡∏Ñ‡∏¥‡∏ß --</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
            <textarea class="form-textarea" id="queue-notes"></textarea>
            <div style="margin-top: 0.5rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <button type="button" class="btn btn-sm btn-outline-secondary"
                onclick="app.appendNote('queue-notes', '‡πÅ‡∏°‡∏ß‡∏î‡∏∏')">‡πÅ‡∏°‡∏ß‡∏î‡∏∏</button>
              <button type="button" class="btn btn-sm btn-outline-secondary"
                onclick="app.appendNote('queue-notes', '‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏î‡∏∏')">‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏î‡∏∏</button>
              <button type="button" class="btn btn-sm btn-outline-secondary"
                onclick="app.appendNote('queue-notes', '‡∏°‡∏µ‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î')">‡∏°‡∏µ‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î</button>
              <button type="button" class="btn btn-sm btn-outline-secondary"
                onclick="app.appendNote('queue-notes', '‡∏Å‡∏•‡∏±‡∏ß‡∏ô‡πâ‡∏≥')">‡∏Å‡∏•‡∏±‡∏ß‡∏ô‡πâ‡∏≥</button>
              <button type="button" class="btn btn-sm btn-outline-secondary"
                onclick="app.appendNote('queue-notes', '‡∏°‡∏µ‡πÅ‡∏ú‡∏•')">‡∏°‡∏µ‡πÅ‡∏ú‡∏•</button>
              <button type="button" class="btn btn-sm btn-outline-secondary"
                onclick="app.appendNote('queue-notes', '‡∏Ç‡∏ô‡∏û‡∏±‡∏ô')">‡∏Ç‡∏ô‡∏û‡∏±‡∏ô</button>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-queue')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" id="queue-save-btn" onclick="app.saveQueue()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏¥‡∏ß</button>
      </div>
    </div>
  </div>

  <!-- Booking Summary Modal -->
  <div id="modal-booking-summary" class="modal-overlay">
    <div class="modal" style="max-width: 500px;">
      <div class="modal-header">
        <h3 class="modal-title">‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏≤‡∏ö-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô üê∂üê±</h3>
        <button class="modal-close" onclick="app.closeModal('modal-booking-summary')">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="summary-container"
          style="background: #f8fafc; border: 1px solid var(--border-color); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
          <pre id="booking-summary-text"
            style="white-space: pre-wrap; font-family: inherit; font-size: 1rem; color: var(--text-color); margin: 0; line-height: 1.6;"></pre>
        </div>
      </div>
      <div class="modal-footer" style="display: flex; gap: 10px; justify-content: center; padding: 1.5rem 2rem;">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-booking-summary')"
          style="flex: 1;">‡∏õ‡∏¥‡∏î</button>
        <button class="btn btn-primary" id="btn-copy-summary" onclick="app.copyBookingSummary()"
          style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
          <span>üìã</span> ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        </button>
      </div>
    </div>
  </div>

  <!-- Deposit Confirmation Modal -->
  <div id="modal-deposit" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-deposit-title">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏°‡∏±‡∏î‡∏à‡∏≥</h3>
        <button class="modal-close" onclick="app.closeModal('modal-deposit')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="form-deposit">
          <div class="form-group">
            <label class="form-label">‡∏¢‡∏≠‡∏î‡∏°‡∏±‡∏î‡∏à‡∏≥ (‡∏ö‡∏≤‡∏ó)</label>
            <input type="number" class="form-input" id="deposit-amount" step="0.01" min="0" />
          </div>
          <div class="form-group">
            <label class="form-label">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞</label>
            <select class="form-select" id="deposit-method">
              <option value="cash">‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</option>
              <option value="transfer">‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</option>
              <option value="credit">‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</option>
              <option value="qr">QR Code</option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-deposit')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" onclick="app.saveDeposit()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Check-in Modal -->
  <div id="modal-checkin" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-checkin-title">‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô</h3>
        <button class="modal-close" onclick="app.closeModal('modal-checkin')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="form-checkin">
          <div class="form-group">
            <label class="form-label required">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏Å‡∏Å.)</label>
            <input type="number" class="form-input" id="checkin-weight" step="0.1" min="0" required />
            <small class="text-muted">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span id="last-weight-display">-</span></small>
          </div>

          <!-- Services (Editable) -->
          <div class="form-group">
            <label class="form-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ)</label>
            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;"
              id="checkin-services-container">
              <label><input type="checkbox" name="checkin-service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥"> ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥</label>
              <label><input type="checkbox" name="checkin-service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏£‡πÑ‡∏Å‡∏£"> ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô
                ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏£‡πÑ‡∏Å‡∏£</label>
              <label><input type="checkbox" name="checkin-service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô ‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏ô">
                ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥-‡∏ï‡∏±‡∏î‡∏Ç‡∏ô
                ‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏ô</label>
              <label><input type="checkbox" name="checkin-service-type" value="‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏™‡∏õ‡∏≤"> ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥
                ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏™‡∏õ‡∏≤</label>
              <label><input type="checkbox" name="checkin-service-type" value="‡∏´‡∏°‡∏≤‡πÉ‡∏´‡∏ç‡πà"> ‡∏´‡∏°‡∏≤‡πÉ‡∏´‡∏ç‡πà</label>
              <label><input type="checkbox" name="checkin-service-type" value="‡∏ù‡∏≤‡∏Å‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á"> ‡∏ù‡∏≤‡∏Å‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</label>
              <label><input type="checkbox" name="checkin-service-type" value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ"> ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</label>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏° (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ)</label>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; margin-top: 0.5rem;"
              id="checkin-addons-container">
              <label><input type="checkbox" name="checkin-service-addon" value="‡∏ï‡∏±‡∏î‡πÄ‡∏•‡πá‡∏ö"> ‡∏ï‡∏±‡∏î‡πÄ‡∏•‡πá‡∏ö</label>
              <label><input type="checkbox" name="checkin-service-addon" value="‡πÑ‡∏ñ‡∏Ç‡∏ô‡∏≠‡∏∏‡πâ‡∏á‡πÄ‡∏ó‡πâ‡∏≤/‡∏ó‡πâ‡∏≠‡∏á/‡∏Å‡πâ‡∏ô"> ‡πÑ‡∏ñ‡∏Ç‡∏ô
                (‡πÄ‡∏ó‡πâ‡∏≤/‡∏ó‡πâ‡∏≠‡∏á/‡∏Å‡πâ‡∏ô)</label>
              <label><input type="checkbox" name="checkin-service-addon" value="‡πÄ‡∏ä‡πá‡∏î‡∏´‡∏π"> ‡πÄ‡∏ä‡πá‡∏î‡∏´‡∏π</label>
              <label><input type="checkbox" name="checkin-service-addon" value="‡∏™‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Å‡∏∞‡∏ï‡∏±‡∏á"> ‡∏™‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Å‡∏∞‡∏ï‡∏±‡∏á</label>
              <label><input type="checkbox" name="checkin-service-addon" value="‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î"> ‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î</label>
              <label><input type="checkbox" name="checkin-service-addon" value="‡πÅ‡∏õ‡∏£‡∏á‡∏ü‡∏±‡∏ô"> ‡πÅ‡∏õ‡∏£‡∏á‡∏ü‡∏±‡∏ô</label>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏û‡∏¥‡πÄ‡∏®‡∏©</label>
            <textarea class="form-textarea" id="checkin-notes" rows="4"
              placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏°‡∏ß‡∏î‡∏∏, ‡∏°‡∏µ‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î, ‡∏°‡∏µ‡πÅ‡∏ú‡∏•, ‡∏Å‡∏•‡∏±‡∏ß‡∏ô‡πâ‡∏≥, ‡∏≠‡∏∑‡πà‡∏ô‡πÜ"></textarea>

            <!-- Quick note buttons -->
            <div class="quick-notes" style="margin-top: 0.5rem;">
              <button type="button" class="btn-quick-note" onclick="app.addQuickNote('‡πÅ‡∏°‡∏ß‡∏î‡∏∏')">‡πÅ‡∏°‡∏ß‡∏î‡∏∏</button>
              <button type="button" class="btn-quick-note" onclick="app.addQuickNote('‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏î‡∏∏')">‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏î‡∏∏</button>
              <button type="button" class="btn-quick-note" onclick="app.addQuickNote('‡∏°‡∏µ‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î')">‡∏°‡∏µ‡πÄ‡∏´‡πá‡∏ö‡∏´‡∏°‡∏±‡∏î</button>
              <button type="button" class="btn-quick-note" onclick="app.addQuickNote('‡∏Å‡∏•‡∏±‡∏ß‡∏ô‡πâ‡∏≥')">‡∏Å‡∏•‡∏±‡∏ß‡∏ô‡πâ‡∏≥</button>
              <button type="button" class="btn-quick-note" onclick="app.addQuickNote('‡∏°‡∏µ‡πÅ‡∏ú‡∏•')">‡∏°‡∏µ‡πÅ‡∏ú‡∏•</button>
              <button type="button" class="btn-quick-note" onclick="app.addQuickNote('‡∏Ç‡∏ô‡∏û‡∏±‡∏ô')">‡∏Ç‡∏ô‡∏û‡∏±‡∏ô</button>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-checkin')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" onclick="app.saveCheckIn()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô</button>
      </div>
    </div>
  </div>

  <!-- Completion Modal -->
  <div id="modal-completion" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-completion-title">‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô</h3>
        <button class="modal-close" onclick="app.closeModal('modal-completion')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="form-completion">
          <div class="form-group">
            <label class="form-label required">‡∏ä‡πà‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</label>
            <select class="form-select" id="completion-groomer" required>
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≤‡∏á --</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢</label>
            <small class="text-muted" style="display: block; margin-bottom: 0.5rem;">
              ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î 2-4 ‡∏£‡∏π‡∏õ ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏∏‡∏Å‡∏°‡∏∏‡∏° ‡πÅ‡∏´‡πâ‡∏á‡∏™‡∏ô‡∏¥‡∏ó ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢
            </small>
            <input type="file" class="form-input" id="completion-images" accept="image/*" multiple
              onchange="app.previewImages(this)" />

            <!-- Image preview grid -->
            <div id="image-preview" class="image-preview-grid"></div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
            <textarea class="form-textarea" id="completion-notes" rows="3" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-completion')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" onclick="app.saveCompletion()">‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô</button>
      </div>
    </div>
  </div>

  <!-- Edit Service Modal -->
  <div id="modal-edit-service" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-edit-service-title">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h3>
        <button class="modal-close" onclick="app.closeModal('modal-edit-service')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="form-edit-service">
          <input type="hidden" id="edit-service-id">

          <div class="row">
            <div class="col-md-6 form-group">
              <label class="form-label required">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
              <input type="date" class="form-input" id="edit-service-date" required />
            </div>
            <div class="col-md-3 form-group">
              <label class="form-label">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
              <input type="time" class="form-input" id="edit-service-start-time" />
            </div>
            <div class="col-md-3 form-group">
              <label class="form-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏ö</label>
              <input type="time" class="form-input" id="edit-service-end-time" />
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏∏‡∏•‡∏†‡∏≤‡∏Ñ)</label>
            <input type="text" class="form-input" id="edit-service-services" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥, ‡∏ï‡∏±‡∏î‡∏Ç‡∏ô" />
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ä‡πà‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</label>
            <select class="form-select" id="edit-service-groomer">
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≤‡∏á --</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡πÑ‡∏°‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ô)</label>
            <input type="number" class="form-input" id="edit-service-price" step="0.01" min="0"
              placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏≠‡∏á‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£" />
          </div>

          <div class="form-group">
            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
            <textarea class="form-textarea" id="edit-service-notes" rows="3"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-edit-service')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn btn-primary" onclick="app.saveServiceUpdate()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Service Details & Image Viewer Modal -->
  <div id="modal-service-details" class="modal-overlay">
    <div class="modal" style="max-width: 800px;">
      <div class="modal-header">
        <h3 id="modal-service-details-title" style="color: var(--secondary-color); font-weight: 700;">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
        </h3>
        <button class="modal-close" onclick="app.closeModal('modal-service-details')">√ó</button>
      </div>
      <div class="modal-body" style="padding: 1.5rem 2rem;">
        <div id="service-details-content" class="service-details-grid">
          <!-- Dynamically populated -->
        </div>
        <div id="service-details-images-section" class="form-group"
          style="margin-top: 2rem; border-top: 1px dashed var(--border-color); padding-top: 1.5rem;">
          <label class="form-label" style="display: flex; align-items: center; gap: 8px; font-size: 1.1rem;">
            üì∏ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô
          </label>
          <div id="service-details-images" class="image-preview-grid" style="margin-top: 1rem;">
            <!-- Dynamically populated -->
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="app.closeModal('modal-service-details')">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á</button>
      </div>
    </div>
  </div>

  <!-- User Modal -->
  <div id="modal-user" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-user-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
        <button class="modal-close" onclick="app.closeModal('modal-user')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="form-user" onsubmit="event.preventDefault(); app.saveUser();">
          <input type="hidden" id="user-id">

          <div class="form-group">
            <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Username) *</label>
            <input type="text" class="form-input" id="user-username" required>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (Password)</label>
            <input type="password" class="form-input" id="user-password" placeholder="‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô">
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á *</label>
            <input type="text" class="form-input" id="user-realname" required>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
            <select class="form-select" id="user-role">
              <option value="admin">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö (Admin)</option>
              <option value="staff">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô (Staff)</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
            <input type="tel" class="form-input" id="user-phone">
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="app.closeModal('modal-user')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button type="submit" class="btn btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Debug Modal -->
  <div id="modal-debug" class="modal-overlay" style="z-index: 3000;">
    <div class="modal" style="max-width: 800px; height: 80vh; display: flex; flex-direction: column;">
      <div class="modal-header" style="flex-shrink: 0;">
        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
          <h3>System Logs</h3>
          <div style="display: flex; gap: 10px;">
            <button class="btn btn-secondary btn-sm" onclick="app.clearLogs()">Clear logs</button>
            <button class="btn btn-secondary btn-sm" onclick="app.closeDebugModal()">Close</button>
          </div>
        </div>
      </div>
      <div class="debug-tabs"
        style="padding: 10px 20px; border-bottom: 1px solid var(--border-color); display: flex; gap: 20px; background: #f8fafc; flex-shrink: 0;">
        <span class="debug-tab active" onclick="app.filterLogs('all', this)">ALL</span>
        <span class="debug-tab" onclick="app.filterLogs('http', this)">HTTP</span>
        <span class="debug-tab" onclick="app.filterLogs('debug', this)">DEBUG</span>
        <span class="debug-tab" onclick="app.filterLogs('info', this)">INFO</span>
        <span class="debug-tab" onclick="app.filterLogs('error', this)">ERROR</span>
      </div>
      <div id="debug-log-container"
        style="flex: 1; overflow-y: auto; padding: 10px; font-family: 'Courier New', Courier, monospace; font-size: 13px; background: #fff;">
        <!-- Logs appear here -->
      </div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://unpkg.com/heic2any"></script>
  <script src="firebase-config.js"></script>
  <!-- Customer History Modal -->
  <div id="modal-customer-history" class="modal-overlay">
    <div class="modal" style="max-width: 800px;">
      <div class="modal-header">
        <h3 id="modal-history-title">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h3>
        <button class="modal-close" onclick="app.closeModal('modal-customer-history')">√ó</button>
      </div>
      <div class="modal-body">
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
                <th>‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</th>
                <th>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</th>
                <th>‡∏ä‡πà‡∏≤‡∏á</th>
                <th>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
              </tr>
            </thead>
            <tbody id="history-tbody">
              <!-- Populated by JS -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Lightbox Modal -->
  <div id="modal-lightbox" class="modal-overlay" style="z-index: 2000; background: rgba(0,0,0,0.9);">
    <div class="modal-lightbox-content"
      style="position: relative; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
      <button class="modal-close-lightbox" onclick="app.closeModal('modal-lightbox')"
        style="position: absolute; top: 20px; right: 20px; color: white; font-size: 2rem; background: none; border: none; cursor: pointer;">‚úï</button>
      <img id="lightbox-image" src="" alt="Full view" style="max-width: 90%; max-height: 90%; object-fit: contain;">
    </div>
  </div>
  <script src="app.js?v=5.0.9"></script>
</body>

</html>